<script src="../quill/quill.js"></script>
<link rel="import" href="../polymer/polymer.html">
<!--
  `<quill-browser></quill-browser>` n
  @demo demo.html
-->
<dom-module id="quill-browser">
  <template>
    <style>
      :host {
        display:block;
      }
      #editor {
        height: 375px;
      }
    </style>
    <template is="dom-if" if="[[theme]]">
      <link href$="../quill/quill.[[theme]].css" rel="stylesheet">
    </template>
    <div id="editor"></div>
  </template>
</dom-module>
<script>
  Polymer({
    is: "quill-browser",
      properties:{
      toolbar:{
        value: [
          [{ header: [1, 2, 3, false] }],
          ['bold', 'italic', 'underline'],
          ['image', 'code-block']
        ],
      },
      placeholder: {
        value: "Compose an epic..."
      },
      theme: {
        value: "snow" // or 'bubble'
      },
      _getReady: {
        computed: "getReady(toolbar,placeholder,theme)"
      },
    },
    getReady: function(toolbar,placeholder,theme){
      var editor = new Quill(this.$.editor,{
        modules: {
          toolbar: toolbar
        },
        placeholder: placeholder,
        theme: theme
      })
      editor.on('text-change', function(delta, oldDelta, source) {
        if (source == 'api') {
          console.log("An API call triggered this change.")
        } else if (source == 'user') {
          console.log("A user action triggered this change.",delta.diff(oldDelta))
        }
      })
    },
  })
</script>
